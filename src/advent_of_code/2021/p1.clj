(ns advent-of-code.2021.p1
  (:require [clojure.string :as str]))

(def example "199\n200\n208\n210\n200\n207\n240\n269\n260\n263")
(def input "195\n197\n201\n204\n203\n216\n213\n215\n216\n185\n188\n190\n205\n218\n237\n243\n248\n278\n289\n292\n304\n313\n314\n317\n329\n328\n329\n328\n329\n330\n331\n329\n333\n337\n338\n345\n352\n354\n355\n359\n360\n363\n365\n364\n370\n371\n367\n387\n403\n407\n409\n411\n416\n425\n435\n444\n445\n446\n460\n449\n454\n458\n459\n463\n464\n445\n447\n448\n450\n452\n463\n464\n475\n459\n460\n465\n477\n484\n485\n486\n498\n500\n501\n502\n516\n515\n531\n534\n560\n576\n583\n586\n587\n575\n588\n587\n591\n595\n599\n607\n608\n609\n610\n616\n612\n601\n603\n621\n624\n623\n630\n639\n633\n628\n629\n630\n631\n632\n646\n650\n654\n650\n654\n659\n660\n663\n669\n670\n673\n702\n709\n715\n739\n734\n750\n756\n762\n775\n773\n784\n785\n784\n789\n790\n785\n784\n798\n814\n815\n816\n817\n818\n826\n827\n841\n835\n836\n839\n841\n843\n835\n839\n819\n838\n837\n831\n847\n845\n847\n848\n853\n854\n883\n884\n883\n884\n885\n887\n888\n889\n896\n902\n920\n922\n923\n924\n928\n930\n962\n958\n985\n979\n980\n979\n986\n1019\n1016\n1017\n1022\n1032\n1035\n1037\n1040\n1038\n1045\n1056\n1065\n1090\n1104\n1084\n1082\n1084\n1097\n1115\n1118\n1128\n1123\n1133\n1143\n1144\n1133\n1134\n1135\n1136\n1144\n1135\n1136\n1145\n1157\n1168\n1172\n1173\n1176\n1194\n1213\n1191\n1192\n1194\n1197\n1200\n1193\n1196\n1198\n1201\n1194\n1196\n1225\n1224\n1230\n1232\n1239\n1240\n1243\n1239\n1217\n1218\n1220\n1224\n1232\n1225\n1223\n1224\n1227\n1219\n1220\n1219\n1227\n1237\n1250\n1259\n1263\n1264\n1274\n1275\n1280\n1300\n1288\n1291\n1293\n1278\n1279\n1280\n1277\n1293\n1297\n1309\n1308\n1315\n1339\n1345\n1343\n1341\n1344\n1348\n1360\n1366\n1369\n1386\n1389\n1419\n1418\n1419\n1414\n1420\n1447\n1453\n1460\n1454\n1477\n1485\n1492\n1500\n1501\n1494\n1484\n1487\n1496\n1497\n1499\n1503\n1505\n1507\n1515\n1522\n1525\n1527\n1539\n1541\n1569\n1571\n1562\n1568\n1556\n1563\n1542\n1547\n1548\n1542\n1551\n1549\n1559\n1562\n1564\n1560\n1562\n1563\n1564\n1563\n1564\n1565\n1595\n1607\n1613\n1616\n1618\n1617\n1619\n1621\n1622\n1624\n1637\n1631\n1627\n1630\n1635\n1639\n1675\n1677\n1681\n1683\n1685\n1684\n1689\n1700\n1701\n1699\n1702\n1704\n1718\n1713\n1689\n1690\n1689\n1667\n1668\n1697\n1700\n1694\n1697\n1715\n1719\n1725\n1726\n1713\n1714\n1720\n1723\n1725\n1728\n1731\n1749\n1746\n1748\n1766\n1767\n1771\n1770\n1779\n1783\n1801\n1790\n1773\n1775\n1777\n1791\n1794\n1795\n1804\n1787\n1792\n1793\n1798\n1816\n1818\n1820\n1812\n1816\n1817\n1818\n1820\n1833\n1850\n1847\n1851\n1866\n1868\n1871\n1875\n1883\n1884\n1886\n1895\n1899\n1901\n1902\n1940\n1944\n1966\n1969\n1979\n1974\n1977\n1982\n1983\n2012\n2027\n2031\n2044\n2040\n2058\n2062\n2060\n2061\n2063\n2067\n2068\n2091\n2093\n2069\n2083\n2084\n2083\n2085\n2083\n2087\n2095\n2088\n2090\n2093\n2097\n2096\n2097\n2099\n2098\n2108\n2112\n2115\n2116\n2117\n2121\n2123\n2158\n2140\n2143\n2134\n2159\n2161\n2162\n2177\n2179\n2186\n2190\n2189\n2171\n2174\n2178\n2174\n2176\n2178\n2166\n2168\n2169\n2170\n2177\n2203\n2212\n2213\n2214\n2223\n2227\n2228\n2237\n2232\n2239\n2269\n2268\n2271\n2283\n2290\n2294\n2296\n2301\n2303\n2307\n2304\n2315\n2317\n2325\n2326\n2328\n2329\n2351\n2361\n2330\n2342\n2343\n2346\n2354\n2357\n2375\n2364\n2365\n2361\n2365\n2364\n2367\n2368\n2370\n2366\n2367\n2371\n2376\n2382\n2383\n2394\n2398\n2389\n2393\n2400\n2402\n2413\n2429\n2431\n2447\n2449\n2481\n2487\n2488\n2507\n2496\n2495\n2511\n2526\n2544\n2545\n2534\n2549\n2550\n2540\n2542\n2555\n2558\n2546\n2559\n2577\n2578\n2582\n2585\n2605\n2620\n2625\n2630\n2633\n2639\n2647\n2654\n2658\n2662\n2661\n2682\n2708\n2746\n2733\n2738\n2756\n2763\n2766\n2769\n2770\n2773\n2770\n2781\n2782\n2784\n2785\n2783\n2781\n2778\n2804\n2793\n2795\n2796\n2797\n2798\n2797\n2798\n2797\n2798\n2799\n2807\n2808\n2814\n2816\n2817\n2795\n2798\n2799\n2801\n2807\n2808\n2807\n2826\n2817\n2818\n2820\n2824\n2841\n2840\n2846\n2847\n2836\n2839\n2842\n2845\n2849\n2853\n2857\n2856\n2875\n2893\n2913\n2921\n2927\n2911\n2912\n2914\n2919\n2923\n2921\n2934\n2932\n2935\n2941\n2951\n2952\n2959\n2965\n2970\n2975\n2991\n2993\n2994\n3000\n3002\n3004\n3019\n3024\n3029\n3030\n3031\n3032\n3031\n3034\n3039\n3042\n3052\n3053\n3055\n3056\n3089\n3107\n3112\n3113\n3111\n3112\n3113\n3117\n3116\n3108\n3112\n3110\n3111\n3117\n3120\n3112\n3113\n3118\n3106\n3107\n3105\n3108\n3107\n3108\n3118\n3127\n3125\n3134\n3137\n3138\n3144\n3159\n3172\n3178\n3185\n3191\n3197\n3193\n3192\n3203\n3209\n3216\n3213\n3215\n3226\n3228\n3225\n3227\n3214\n3217\n3226\n3264\n3265\n3270\n3273\n3271\n3265\n3262\n3284\n3287\n3289\n3297\n3315\n3324\n3279\n3285\n3289\n3298\n3299\n3313\n3314\n3315\n3353\n3340\n3338\n3339\n3340\n3342\n3356\n3355\n3356\n3362\n3377\n3385\n3391\n3394\n3401\n3411\n3409\n3425\n3426\n3427\n3436\n3442\n3443\n3447\n3448\n3449\n3450\n3456\n3463\n3471\n3489\n3502\n3485\n3490\n3469\n3471\n3474\n3481\n3488\n3495\n3490\n3497\n3518\n3530\n3531\n3533\n3535\n3540\n3552\n3555\n3558\n3566\n3571\n3587\n3604\n3605\n3608\n3632\n3638\n3650\n3643\n3634\n3635\n3666\n3667\n3670\n3668\n3674\n3678\n3688\n3687\n3685\n3686\n3704\n3709\n3710\n3717\n3719\n3730\n3735\n3733\n3756\n3757\n3783\n3784\n3786\n3788\n3789\n3794\n3799\n3803\n3824\n3827\n3793\n3794\n3796\n3786\n3787\n3788\n3791\n3789\n3804\n3805\n3823\n3833\n3816\n3814\n3815\n3821\n3820\n3823\n3824\n3826\n3825\n3836\n3839\n3843\n3844\n3845\n3846\n3867\n3887\n3891\n3898\n3915\n3917\n3915\n3919\n3926\n3924\n3926\n3928\n3938\n3947\n3952\n3953\n3960\n3961\n3970\n3971\n3977\n4002\n4008\n4034\n4035\n4044\n4054\n4078\n4079\n4081\n4086\n4083\n4086\n4088\n4081\n4091\n4094\n4090\n4091\n4100\n4115\n4117\n4120\n4108\n4150\n4151\n4132\n4134\n4138\n4145\n4153\n4155\n4156\n4135\n4146\n4128\n4155\n4170\n4172\n4171\n4183\n4184\n4191\n4214\n4221\n4228\n4238\n4240\n4241\n4210\n4214\n4217\n4221\n4210\n4229\n4235\n4243\n4247\n4263\n4264\n4263\n4277\n4281\n4285\n4288\n4304\n4310\n4312\n4323\n4326\n4331\n4329\n4351\n4348\n4350\n4354\n4357\n4359\n4360\n4368\n4380\n4364\n4348\n4352\n4353\n4368\n4379\n4383\n4386\n4372\n4373\n4380\n4379\n4381\n4382\n4412\n4419\n4402\n4403\n4404\n4423\n4415\n4416\n4418\n4419\n4425\n4437\n4439\n4438\n4439\n4451\n4459\n4460\n4461\n4462\n4465\n4479\n4508\n4504\n4506\n4508\n4516\n4510\n4498\n4511\n4506\n4523\n4528\n4542\n4563\n4574\n4588\n4587\n4588\n4590\n4591\n4592\n4594\n4599\n4592\n4594\n4615\n4613\n4615\n4616\n4625\n4619\n4620\n4623\n4628\n4629\n4630\n4633\n4639\n4638\n4640\n4655\n4656\n4657\n4679\n4681\n4680\n4681\n4696\n4692\n4700\n4704\n4706\n4715\n4721\n4722\n4734\n4712\n4716\n4715\n4721\n4722\n4724\n4736\n4741\n4755\n4756\n4754\n4747\n4759\n4768\n4772\n4778\n4782\n4812\n4806\n4808\n4809\n4806\n4811\n4806\n4807\n4818\n4826\n4827\n4828\n4830\n4836\n4837\n4855\n4856\n4863\n4851\n4852\n4853\n4854\n4860\n4861\n4862\n4865\n4868\n4854\n4857\n4856\n4875\n4876\n4882\n4883\n4884\n4883\n4896\n4901\n4912\n4922\n4930\n4912\n4920\n4921\n4930\n4935\n4934\n4936\n4939\n4941\n4950\n4953\n4958\n4972\n4975\n4976\n4994\n4995\n4998\n5001\n5008\n5013\n5014\n5016\n5026\n5025\n5031\n5039\n5052\n5053\n5059\n5064\n5065\n5082\n5083\n5084\n5085\n5090\n5092\n5099\n5136\n5145\n5167\n5160\n5133\n5135\n5113\n5117\n5140\n5129\n5131\n5124\n5123\n5124\n5137\n5148\n5153\n5157\n5171\n5179\n5204\n5206\n5210\n5212\n5215\n5225\n5229\n5232\n5229\n5220\n5224\n5235\n5250\n5249\n5257\n5258\n5260\n5265\n5289\n5288\n5290\n5292\n5293\n5262\n5264\n5265\n5263\n5265\n5270\n5279\n5284\n5285\n5291\n5290\n5295\n5299\n5318\n5331\n5345\n5347\n5341\n5347\n5348\n5349\n5355\n5345\n5350\n5357\n5358\n5364\n5365\n5377\n5378\n5405\n5408\n5407\n5417\n5425\n5428\n5432\n5431\n5438\n5439\n5445\n5451\n5453\n5446\n5449\n5451\n5461\n5467\n5475\n5497\n5513\n5514\n5535\n5536\n5537\n5565\n5575\n5579\n5580\n5600\n5609\n5592\n5610\n5609\n5614\n5622\n5621\n5622\n5647\n5649\n5660\n5661\n5668\n5665\n5666\n5684\n5687\n5688\n5692\n5691\n5697\n5698\n5678\n5686\n5687\n5686\n5687\n5688\n5681\n5690\n5691\n5696\n5701\n5702\n5693\n5686\n5690\n5693\n5697\n5694\n5699\n5700\n5713\n5700\n5709\n5711\n5719\n5720\n5721\n5723\n5726\n5727\n5728\n5723\n5728\n5735\n5741\n5728\n5733\n5741\n5747\n5751\n5747\n5756\n5757\n5758\n5753\n5752\n5753\n5756\n5754\n5755\n5766\n5768\n5780\n5778\n5777\n5778\n5784\n5788\n5790\n5801\n5802\n5816\n5832\n5833\n5821\n5824\n5837\n5830\n5804\n5830\n5831\n5840\n5850\n5862\n5863\n5864\n5869\n5862\n5861\n5862\n5866\n5865\n5866\n5906\n5907\n5908\n5909\n5918\n5917\n5921\n5920\n5921\n5919\n5938\n5939\n5915\n5936\n5938\n5943\n5961\n5972\n5982\n5987\n5991\n5994\n6010\n6013\n6017\n6018\n6021\n6017\n6022\n6023\n6013\n6014\n6027\n6056\n6061\n6067\n6056\n6057\n6071\n6074\n6077\n6068\n6092\n6098\n6106\n6118\n6133\n6140\n6141\n6179\n6185\n6186\n6201\n6203\n6204\n6214\n6215\n6221\n6230\n6240\n6241\n6252\n6253\n6268\n6270\n6277\n6280\n6282\n6281\n6282\n6293\n6263\n6248\n6249\n6250\n6270\n6280\n6276\n6278\n6291\n6292\n6294\n6295\n6302\n6311\n6341\n6335\n6336\n6337\n6336\n6337\n6339\n6342\n6347\n6341\n6342\n6343\n6353\n6355\n6379\n6366\n6370\n6371\n6378\n6379\n6384\n6404\n6402\n6415\n6414\n6417\n6416\n6417\n6410\n6428\n6443\n6445\n6450\n6448\n6456\n6477\n6479\n6486\n6493\n6495\n6496\n6522\n6523\n6524\n6525\n6526\n6527\n6529\n6537\n6532\n6550\n6565\n6566\n6571\n6598\n6614\n6620\n6621\n6622\n6620\n6586\n6592\n6596\n6624\n6619\n6618\n6610\n6611\n6618\n6619\n6622\n6630\n6627\n6633\n6611\n6614\n6617\n6612\n6622\n6623\n6626\n6645\n6646\n6645\n6658\n6661\n6664\n6666\n6673\n6683\n6686\n6688\n6685\n6718\n6719\n6720\n6721\n6718\n6720\n6749\n6755\n6752\n6755\n6756\n6768\n6771\n6773\n6776\n6816\n6830\n6831\n6843\n6844\n6845\n6851\n6873\n6875\n6876\n6878\n6879\n6880\n6873\n6874\n6857\n6856\n6857\n6856\n6858\n6855\n6856\n6857\n6855\n6859\n6860\n6862\n6864\n6874\n6876\n6862\n6865\n6874\n6893\n6899\n6900\n6903\n6908\n6909\n6937\n6939\n6942\n6954\n6958\n6962\n6972\n6968\n6979\n6983\n6982\n6983\n6989\n6988\n6999\n6992\n6996\n7000\n6998\n6974\n6977\n6996\n6997\n6998\n6999\n7005\n6990\n6992\n6993\n7016\n7023\n7000\n7002\n7022\n7035\n7042\n7052\n7065\n7069\n7076\n7066\n7080\n7084\n7083\n7082\n7083\n7084\n7089\n7094\n7093\n7102\n7105\n7106\n7107\n7110\n7111\n7112\n7119\n7120\n7107\n7106\n7105\n7094\n7105\n7106\n7107\n7109\n7116\n7117\n7121\n7143\n7145\n7161\n7170\n7171\n7178\n7149\n7145\n7146\n7147\n7148\n7149\n7162\n7163\n7168\n7175\n7176\n7189\n7187\n7172\n7183\n7190\n7191\n7201\n7209\n7211\n7212\n7254\n7255\n7261\n7269\n7278\n7298\n7307\n7304\n7305\n7327\n7329\n7339\n7335\n7331\n7335\n7336\n7338\n7351\n7349\n7355\n7360\n7370\n7371\n7402\n7415\n7414\n7413\n7426\n7429\n7430\n7432\n7433\n7419\n7420\n7421\n7424\n7427\n7432\n7424\n7433\n7440\n7441\n7464\n7468\n7469\n7482\n7487\n7492\n7494\n7495\n7498\n7504\n7505\n7506\n7513\n7517\n7520\n7526\n7543\n7531\n7537\n7538\n7543\n7534\n7539\n7544\n7551\n7555\n7554\n7559\n7567\n7572\n7580\n7600\n7602\n7592\n7597\n7601\n7602\n7604\n7607\n7630\n7633\n7640\n7641\n7642\n7631\n7640\n7642\n7626\n7609\n7615\n7623\n7625\n7602\n7600\n7604\n7606\n7617\n7620\n7621\n7632\n7628\n7650\n7652\n7654\n7657\n7666\n7667\n7678\n7679\n7674\n7678\n7679\n7678\n7679\n7681\n7675\n7673\n7664\n7686\n7684\n7680\n7681\n7682\n7681\n7687\n7693\n7690\n7694\n7710\n7711\n7710\n7712\n7720\n7710\n7711\n7718\n7730\n7732\n7734\n7735\n7736\n7737\n7756\n7766\n7768\n7769\n7776\n7788\n7792\n7793\n7807\n7808\n7826\n7831\n7838\n7839\n7872\n7875\n7877\n7879\n7890\n7895\n7893\n7896\n7903\n7908\n7904\n7917\n7918\n7930\n7961\n7957\n7960\n7950\n7968\n7969\n7973\n7996\n7999\n7993\n8001\n8005\n8006\n8045\n8058\n8064\n8063\n8077\n8080\n8081\n8098\n8102\n8109\n8110\n8121\n8123\n8122\n8129\n8132\n8154\n8159\n8171\n8190\n8192\n8199\n8202\n8240\n8241\n8243\n8261\n8262\n8256\n8260\n8257\n8258\n8270\n8274\n8276\n8260\n8257\n8258\n8261\n8297\n8305\n8308\n8309\n8310\n8335\n8338\n8352\n8362\n8363\n8348\n8346\n8349\n8343\n8333\n8335\n8336\n8337\n8346\n8338\n8366\n8391\n8388\n8402\n8413\n8439\n8440\n8443\n8444\n8451\n8459\n8460\n8472\n8468\n8469\n8474\n8478\n8487\n8511\n8530\n8531\n8537\n8536\n8537\n8544\n8549\n8562\n8563\n8562")

(defn part-1 [input]
  (->> (str/split-lines input)
       (map #(Integer/parseInt %))
       (partition 2 1)
       (map #(apply - %))
       (filter neg-int?)
       (count)))

(defn part-2 [input]
  (->> (str/split-lines input)
       (map #(Integer/parseInt %))
       (partition 3 1)
       (map #(apply + %))
       (partition 2 1)
       (map #(apply - %))
       (filter neg-int?)
       (count)))

(comment
  (part-1 example)
  (part-1 input)

  (part-2 example)
  (part-2 input))